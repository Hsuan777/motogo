import{a as n,r as a}from"./axios-727ac456.js";const c=(e,r)=>{switch(e){case 400:console.log(r);break;case 401:a.push({name:"signin"});break;case 404:break;default:console.log("有其他的錯誤:"+r)}},t=n.create({baseURL:"https://motogo-backend.vercel.app/api/v1"});t.interceptors.request.use(e=>{const r=localStorage.getItem("metawall");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));t.interceptors.response.use(e=>e,e=>{var s;const{response:r}=e;if(r)return c(r.status,(s=r.data)==null?void 0:s.error),Promise.reject(e);if(!window.navigator.onLine)console.log("網路出了點問題，請稍後再試");else return Promise.reject(e)});const l=(e,r,s=null,o)=>{if(e=e.toLowerCase(),e==="get")return t.get(r,s,o);if(e==="post")return t.post(r,s,o);if(e==="patch")return t.patch(r,s);if(e==="delete")return t.delete(r,{params:s});console.log("未知的 method:"+e)};export{l as r};
