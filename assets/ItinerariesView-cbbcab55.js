import{b as T,v as C}from"./runtime-dom.esm-bundler-307f6a53.js";import{r as D}from"./axios-727ac456.js";import{a as N}from"./itineraries-4f12d0e9.js";import{r as u,a8 as S,o,Y as n,Z as t,a2 as b,K as v,a1 as _,a0 as c,O as y,_ as U,u as f}from"./runtime-core.esm-bundler-6798075e.js";import{S as j,F as q}from"./Star-ded6f854.js";import{N as I}from"./Icon-df1c938c.js";import"./vue-router-2d09d191.js";import"./https-d223164a.js";const B={class:"container py-10"},E={class:"md:flex items-center mb-6"},F=t("h2",{class:"text-3xl mr-3 mb-3 md:mb-0"},"公路與景點",-1),L={class:"text-xl"},R=t("span",{class:"mr-1"},"類型：",-1),z=t("option",{value:"所有",selected:""},"所有",-1),M=["value"],O=t("span",{class:"mr-1"},"標籤：",-1),G=t("option",{value:"所有",selected:""},"所有",-1),K=["value"],Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Y={class:"flex justify-between items-center"},Z={class:"text-xl mb-1"},A={class:"text-white bg-gray rounded-lg px-2"},H=["src"],J={class:"line-clamp-3 text-sm mb-2"},P={class:"absolute bottom-0 left-0 flex items-center"},W={class:"flex items-center mr-5"},X={class:"flex items-center"},$=t("span",null,"3,234",-1),ce={__name:"ItinerariesView",setup(ee){window.scrollTo(0,0);const h=u([]),g=u([]),d=u("");d.value=D.currentRoute.value.query.query;const a=u([]),m=u(null);(async()=>{const{data:l}=await N();m.value=l.data,a.value=m.value,a.value.forEach(s=>{h.value.includes(s.type)||h.value.push(s.type),s.tags.forEach(p=>{g.value.includes(p)||g.value.push(p)})}),w()})();const i=u("所有"),r=u("所有"),x=()=>{let l;if(i.value!=="所有"&&r.value==="所有")l=m.value.filter(s=>s.type===i.value),a.value=l;else if(i.value!=="所有"&&r.value!=="所有")l=m.value.filter(s=>s.type===i.value&&s.tags.includes(r.value)),a.value=l;else if(i.value==="所有")if(r.value!=="所有"){l=m.value.filter(s=>s.tags.includes(r.value)),a.value=l;return}else a.value=m.value},w=()=>{if(d.value===""||d.value===void 0)x();else{const l=a.value.filter(s=>s.name.includes(d.value));a.value=l}};return(l,s)=>{const p=S("RouterLink");return o(),n("section",B,[t("div",E,[F,t("div",L,[R,b(t("select",{name:"",id:"","onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),onChange:x,class:"mr-1"},[z,(o(!0),n(v,null,_(h.value,e=>(o(),n("option",{key:e,value:e},c(e),9,M))),128))],544),[[T,i.value]]),O,b(t("select",{name:"",id:"","onUpdate:modelValue":s[1]||(s[1]=e=>r.value=e),onChange:x,class:"mr-3 mb-3 md:mb-0"},[G,(o(!0),n(v,null,_(g.value,e=>(o(),n("option",{key:e,value:e},c(e),9,K))),128))],544),[[T,r.value]]),b(t("input",{id:"autocomplete-input","onUpdate:modelValue":s[2]||(s[2]=e=>d.value=e),type:"text",placeholder:"想去哪裡呢？",class:"w-full md:w-1/3 p-2 border focus:outline-primary rounded-lg",onChange:w},null,544),[[C,d.value]])])]),t("ul",Q,[(o(!0),n(v,null,_(a.value,e=>(o(),n("li",{key:e._id,class:"relative pb-5"},[t("div",Y,[t("h3",Z,c(e.name),1),(o(!0),n(v,null,_(e.tags,(k,V)=>(o(),n("span",{key:k+V,class:"ml-auto mr-3 text-white bg-primary rounded-lg px-2"},c(k),1))),128)),t("span",A,c(e.type),1)]),y(p,{to:"/itineraries/"+e._id},{default:U(()=>[t("img",{src:e.imageUrl,alt:"",class:"w-full h-[200px] object-cover object-top rounded-lg mb-2"},null,8,H)]),_:2},1032,["to"]),t("p",J,c(e.description),1),t("div",P,[t("div",W,[y(f(I),{size:"16",component:f(j),class:"mr-1 text-primary"},null,8,["component"]),t("span",null,c(e.stars),1)]),t("div",X,[y(f(I),{size:"16",component:f(q),class:"mr-1 text-primary"},null,8,["component"]),$])])]))),128))])])}}};export{ce as default};
